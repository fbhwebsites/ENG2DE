<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Affirmations</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <style>
        body {
            background: #fff;
            color: #000;
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 32px 40px 0 40px;
            box-sizing: border-box;
            background: #fff;
        }
        .logo {
            font-size: 1.2rem;
            letter-spacing: 1px;
            font-weight: 400;
            color: #000;
        }
        nav {
            display: flex;
            gap: 40px;
            align-items: center;
        }
        nav a {
            color: #000;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 400;
            transition: color 0.2s;
        }
        nav a:hover {
            color: #666;
        }
        .nav-dropdown {
            position: relative;
            display: inline-block;
            height: 100%;
        }
        .more-link {
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        .dropdown-arrow {
            font-size: 0.8em;
            margin-left: 6px;
            transition: transform 0.2s;
            display: inline-block;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            left: auto;
            top: 100%;
            min-width: 180px;
            background: #fff;
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
            border-radius: 10px;
            z-index: 10;
            flex-direction: column;
            padding: 10px 0;
            pointer-events: auto;
            border: 1px solid #e0e0e0;
        }
        .dropdown-content a {
            color: #000;
            padding: 12px 24px;
            text-decoration: none;
            display: block;
            font-size: 1.1rem;
            transition: background 0.2s, color 0.2s;
            border-radius: 6px;
        }
        .dropdown-content a:hover {
            background: #f5f5f5;
            color: #000;
        }
        .nav-dropdown:hover .dropdown-content,
        .nav-dropdown:focus-within .dropdown-content {
            display: flex;
        }
        .nav-dropdown:hover .dropdown-arrow {
            transform: rotate(180deg);
        }
        .container {
            width: 100%;
            margin: 0;
            padding: 0;
        }
        .affirmations-header {
            text-align: center;
            margin-bottom: 2.5rem;
            padding: 2rem 0;
        }
        .affirmations-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #000;
        }
        .affirmations-header p {
            color: #666;
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }
        .affirmations-list {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            padding: 0 2rem;
        }
        .affirmation-card {
            background: #f9f9f9;
            border-radius: 18px;
            box-shadow: none;
            padding: 3rem 2rem;
            width: 80%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            transition: transform 0.2s;
        }
        .affirmation-card.pinned {
            border: 2px solid #6ee7b7;
            background: #e6fff7;
        }
        .affirmation-text {
            font-size: 1.5rem;
            font-weight: 500;
            color: #222;
            margin-bottom: 1.2rem;
            text-align: center;
        }
        .affirmation-actions {
            display: flex;
            gap: 0.7rem;
            align-items: center;
            margin-top: auto;
        }
        .pin-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.7rem;
            color: #bbb;
            transition: color 0.2s, transform 0.2s;
            padding: 0.2rem 0.4rem;
        }
        .pin-btn.pinned {
            color: #6ee7b7;
            transform: scale(1.2);
        }
        .pin-btn:focus {
            outline: none;
        }
        .pinned-label {
            position: absolute;
            top: 1rem;
            right: 1.2rem;
            background: #6ee7b7;
            color: #181f2a;
            font-size: 0.9rem;
            font-weight: 600;
            border-radius: 8px;
            padding: 0.2rem 0.7rem;
            letter-spacing: 0.5px;
        }
        @media (max-width: 800px) {
            .affirmations-list {
                flex-direction: column;
                align-items: center;
            }
            .affirmation-card {
                min-width: 220px;
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">MENTAL HELP</div>
        <nav>
            <a href="english_summative.html">Home</a>
            <a href="forum.html">Forum</a>
            <a href="goals.html">Goals</a>
            <a href="journal.html">Journal</a>
            <div class="nav-dropdown">
                <a href="#" class="more-link">More <span class="dropdown-arrow">&#9662;</span></a>
                <div class="dropdown-content">
                    <a href="importance.html">Importance</a>
                    <a href="resource.html">Resources</a>
                    <a href="affirmations.html">Affirmations</a>
                    <a href="bulletin.html">Bulletin</a>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <div class="affirmations-header">
            <h1>Positive Affirmations</h1>
            <p>Use the arrows to browse affirmations. Pin your favourites for easy access!</p>
        </div>
        <div class="affirmations-list" id="affirmationsList" style="justify-content:center;"></div>
        <div style="display:flex;justify-content:center;align-items:center;gap:1.5rem;margin-top:2rem;">
            <button id="prevBtn" style="font-size:1.5rem;padding:0.5rem 1.2rem;cursor:pointer;border:none;background:#f5f5f5;border-radius:8px;color:#666;">&#8592;</button>
            <button id="showPinnedBtn" style="font-size:1rem;padding:0.5rem 1.2rem;cursor:pointer;border:none;background:#e6fff7;border-radius:8px;color:#181f2a;">Next Pinned</button>
            <button id="nextBtn" style="font-size:1.5rem;padding:0.5rem 1.2rem;cursor:pointer;border:none;background:#f5f5f5;border-radius:8px;color:#666;">&#8594;</button>
        </div>
    </div>
    <script>
        const affirmations = [
            "You are enough, just as you are.",
            "Every day is a fresh start.",
            "You are capable of amazing things.",
            "Your feelings are valid.",
            "You have the power to create change.",
            "You are stronger than you think.",
            "You are worthy of love and respect.",
            "You can handle whatever comes your way.",
            "You are growing and learning every day.",
            "You bring light to those around you.",
            "You are resilient and brave.",
            "You are not alone in how you feel.",
            "You are making a difference, even if it's small.",
            "You deserve happiness and peace.",
            "You are unique and valuable."
        ];

        // Load pins from localStorage
        let pins = JSON.parse(localStorage.getItem('affirmationPins') || '[]');
        let currentIdx = 0;

        function renderAffirmation(idx) {
            const list = document.getElementById('affirmationsList');
            list.innerHTML = '';
            const text = affirmations[idx];
            const isPinned = pins.includes(idx);
            const card = document.createElement('div');
            card.className = 'affirmation-card' + (isPinned ? ' pinned' : '');
            card.innerHTML = `
                <div class="affirmation-text">${text}</div>
                <div class="affirmation-actions">
                    <button class="pin-btn material-symbols-outlined${isPinned ? ' pinned' : ''}" title="Pin">push_pin</button>
                </div>
                ${isPinned ? '<div class="pinned-label">Pinned</div>' : ''}
            `;
            // Pin button
            card.querySelector('.pin-btn').onclick = () => {
                if (isPinned) {
                    pins = pins.filter(p => p !== idx);
                } else {
                    pins.push(idx);
                }
                localStorage.setItem('affirmationPins', JSON.stringify(pins));
                renderAffirmation(currentIdx);
            };
            list.appendChild(card);
        }

        function showPrev() {
            currentIdx = (currentIdx - 1 + affirmations.length) % affirmations.length;
            renderAffirmation(currentIdx);
        }
        function showNext() {
            currentIdx = (currentIdx + 1) % affirmations.length;
            renderAffirmation(currentIdx);
        }
        function showNextPinned() {
            if (pins.length === 0) return;
            let nextPinned = pins.find(p => p > currentIdx);
            if (nextPinned === undefined) nextPinned = pins[0];
            currentIdx = nextPinned;
            renderAffirmation(currentIdx);
        }

        document.getElementById('prevBtn').onclick = showPrev;
        document.getElementById('nextBtn').onclick = showNext;
        document.getElementById('showPinnedBtn').onclick = showNextPinned;

        // Optional: swipe support for mobile
        let startX = null;
        document.getElementById('affirmationsList').addEventListener('touchstart', function(e) {
            startX = e.touches[0].clientX;
        });
        document.getElementById('affirmationsList').addEventListener('touchend', function(e) {
            if (startX === null) return;
            let endX = e.changedTouches[0].clientX;
            if (endX - startX > 50) showPrev();
            else if (startX - endX > 50) showNext();
            startX = null;
        });

        renderAffirmation(currentIdx);
    </script>
</body>
</html>
